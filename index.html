<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>BADley NoWins</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    text-align: center;
    margin: 0;
    padding: 20px;
  }

  h1 {
    margin-top: 0;
  }

  .game-container {
    display: inline-block;
    margin-top: 20px;
    position: relative;
  }

  /* Create a grid of holes */
  .hole-container {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    grid-template-rows: repeat(3, 100px);
    gap: 20px;
  }

  .hole {
    width: 100px;
    height: 100px;
    border: 2px solid #333;
    border-radius: 50%;
    background: #ccc;
    position: relative;
    cursor: pointer;
    overflow: hidden;
  }

  /* The mole image that will appear */
  .mole {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 100%;
    transition: top 0.2s ease;
  }

  .mole.show {
    top: 0%;
  }

  .scoreboard {
    margin: 10px 0;
    font-size: 1.2em;
  }

  .timer {
    font-weight: bold;
    margin: 10px 0;
  }

  .start-button, .restart-button {
    padding: 10px 20px;
    font-size: 1em;
    margin-top: 15px;
    cursor: pointer;
    background: #2a9d8f;
    border: none;
    color: #fff;
    border-radius: 5px;
  }

  .start-button:hover, .restart-button:hover {
    background: #1f7e71;
  }
</style>
</head>
<body>
  <h1>Whac-A-Mole</h1>
  <div class="scoreboard">Score: <span id="score">0</span></div>
  <div class="timer">Time Left: <span id="time-left">30</span>s</div>
  <button class="start-button" id="start-button">Start Game</button>

  <div class="game-container">
    <div class="hole-container">
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
      <div class="hole"><img src="mole.png" alt="mole" class="mole"></div>
    </div>
  </div>

  <script>
    const holes = document.querySelectorAll('.hole');
    const scoreDisplay = document.getElementById('score');
    const timeLeftDisplay = document.getElementById('time-left');
    const startButton = document.getElementById('start-button');

    let lastHole;
    let timeUp = false;
    let score = 0;
    let timeLeft = 30; // In seconds
    let moleTimer;
    let countdownTimer;

    function randomHole(holes) {
      const idx = Math.floor(Math.random() * holes.length);
      const hole = holes[idx];
      if (hole === lastHole) {
        return randomHole(holes);
      }
      lastHole = hole;
      return hole;
    }

    function showMole() {
      const hole = randomHole(holes);
      const mole = hole.querySelector('.mole');
      mole.classList.add('show');

      // Mole stays up for a random time between 600ms and 1000ms
      const time = Math.round(Math.random() * 400) + 600;

      setTimeout(() => {
        mole.classList.remove('show');
        if (!timeUp) showMole();
      }, time);
    }

    function startGame() {
      score = 0;
      scoreDisplay.textContent = score;
      timeLeft = 30;
      timeLeftDisplay.textContent = timeLeft;
      timeUp = false;
      startButton.disabled = true;

      showMole();

      countdownTimer = setInterval(() => {
        timeLeft--;
        timeLeftDisplay.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(countdownTimer);
          endGame();
        }
      }, 1000);
    }

    function endGame() {
      timeUp = true;
      startButton.disabled = false;
      alert('Time is up! Your final score is ' + score);
    }

    holes.forEach(hole => {
      hole.addEventListener('click', () => {
        const mole = hole.querySelector('.mole');
        if (mole.classList.contains('show')) {
          score++;
          scoreDisplay.textContent = score;
          mole.classList.remove('show');
        }
      });
    });

    startButton.addEventListener('click', startGame);
  </script>
</body>
</html>

